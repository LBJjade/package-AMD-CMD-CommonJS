<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body></body>
  <script type="text/javascript">
    // 第一种方式：字面量
    var o1 = { name: 'o1' };
    var o2 = new Object({ name: 'o2' });
    // 第二种方式：构造函数
    var M = function(name) {
      this.name = name;
    };
    var o3 = new M('o3');
    // 第三种方式：Object.create
    var p = { name: 'p' };
    var o4 = Object.create(p);
    console.log(o1);
    console.log(o2);
    console.log(o3);
    console.log(o4);
    // var M = function (name) { this.name = name; }
    // 用法
    var o3 = new M('o3');
    var o5 = new M();
    o3.__proto__.say = function() {
      console.log('hello world');
    };

    o3.say();
    o5.say();
    var new2 = function (func) {
    var o = Object.create(func.prototype); 　　 //创建对象
    var k = func.call(o);　　　　　　　　　　　　　//改变this指向，把结果付给k
    if (typeof k === 'object') {　　　　　　　　　//判断k的类型是不是对象
        return k;　　　　　　　　　　　　　　　　　 //是，返回k
    } else {
        return o;　　　　　　　　　　　　　　　　　 //不是返回返回构造函数的执行结果
    }
}
  </script>
</html>
